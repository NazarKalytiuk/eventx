version: 2
jobs:
    client:
        docker:
            - image: circleci/node:latest-browsers
        steps:
            - checkout
            - run:
                name: Install NPM packages
                command: npm install
            - run:
                name: Build
                command: npm run build.github
            - run:
                name: Deploy
                command: |
                  git config --global user.email "$GH_EMAIL"
                  git config --global user.name "$GH_NAME"
                  ./node_modules/.bin/ngh
                  echo "Finished Deployment!"

workflows:
  version: 2
  build-deploy:
    jobs:
      - client
